---
import "@/styles/global.css";
import { getCollection } from "astro:content";
import Project from "@/components/index-components/Project.astro";
import Container from "@/components/Container.astro";

const allProjects = (
  await getCollection("projects", ({ data }) => {
    return data.featured === true;
  })
).sort(
  (a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
);
---

<section id="projects" class="py-16 bg-gray-400/5">
  <Container class="relative z-10 flex flex-col items-center">
    <h2 class="text-center">My Featured Projects</h2>
    <ul class="pt-4 flex flex-wrap justify-center">
      {/*md:w-5/6 2xl:max-w-[108rem] */}
      {/* currently placeholder projects */}
      {allProjects.map((project) => <Project projectData={project} />)}
    </ul>
  </Container>
</section>

<style>
  @reference "@/styles/global.css";
</style>
